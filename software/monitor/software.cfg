[buildout]

extends =
  ../../component/pycurl/buildout.cfg
  ../../stack/monitor/buildout.cfg
  ../../component/fluentd/buildout.cfg
  ../../stack/slapos.cfg

parts = 
  slapos-cookbook
  slapos-toolbox
  template
  network-bench-cfg
  template-monitor-distributor
  template-monitor
  eggs
  fluentd

[template]
recipe = slapos.recipe.template 
url = ${:_profile_base_location_}/instance.cfg
output = ${buildout:directory}/template.cfg
md5sum =  4402626ed57cc9e27eb4282839fbfb99
mode = 0644

[template-monitor]
recipe = slapos.recipe.build:download 
url = ${:_profile_base_location_}/instance-monitor.cfg.jinja2
destination = ${buildout:directory}/template-monitor.cfg
md5sum =  c11064c5b529b9dfeec6549f04dfd078
mode = 0644

[template-monitor-distributor]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/instance-monitor-distributor.cfg.jinja2
destination = ${buildout:directory}/template-monitor-distributor.cfg
md5sum =  a58e9c20ab71d7353d4dae6daaccbd31
mode = 0644

# stupify index for now
[index]
url = ${:_profile_base_location_}/${:filename}
md5sum = 876f18b159fbd9325332d0f42e9172ac

[monitor-httpd-template]
url = ${:_profile_base_location_}/${:filename}
md5sum = 1f30b17f5ea11fd033984d17c38bcfd3

[network-bench-cfg]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/network_bench.cfg.in
md5sum  = cfcbf2002b8eff5153e2bf68ed24b720
output = ${buildout:directory}/template-network-bench-cfg.in
mode = 0644

[slapos-toolbox]
recipe = zc.recipe.egg
eggs =
  ${lxml-python:egg}
  ${pycurl:egg}
  slapos.toolbox

scripts =
  networkbench
  onetimedownload

[eggs]
recipe = z3c.recipe.scripts
eggs = 
  cns.recipe.symlink
  slapos.cookbook
  slapos.recipe.cmmi
  hexagonit.recipe.download
  plone.recipe.command
  
[versions]
PyRSS2Gen = 1.1
cns.recipe.symlink = 0.2.3
plone.recipe.command = 1.1
slapos.recipe.template = 2.7
z3c.recipe.scripts = 1.0.1
rubygemsrecipe = 0.2.1
pycurl = 7.19.5.1

apache-libcloud = 0.16.0
ecdsa = 0.11
gitdb = 0.6.0
pycrypto = 2.6.1
slapos.toolbox = 0.52
smmap = 0.8.3

# Required by:
# slapos.toolbox==0.52
GitPython = 0.3.2.1

# Required by:
# slapos.toolbox==0.52
atomize = 0.2.0

# Required by:
# slapos.toolbox==0.52
feedparser = 5.1.3

# Required by:
# slapos.toolbox==0.52
paramiko = 1.15.2

# Required by:
# slapos.toolbox==0.52
lockfile = 0.10.2

# Required by:
# slapos.toolbox==0.52
rpdb = 0.1.5


