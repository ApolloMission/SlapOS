[buildout]

extends =
  ../../stack/slapos.cfg
  ../../component/lxc/buildout.cfg
  ../../component/lxml-python/buildout.cfg
  ../../component/curl/buildout.cfg
  ../../component/gzip/buildout.cfg
  ../../component/bzip2/buildout.cfg
  ../../component/xz-utils/buildout.cfg
  ../../component/tar/buildout.cfg
  ../../component/shellinabox/buildout.cfg
  ../../component/pwgen/buildout.cfg

find-links +=
  http://www.nexedi.org/static/packages/source/slapos-lxc/

parts =
  lxml-python
  template
  template-lxc
  lxc-conf-in
  slapos-cookbook
  slapos-toolbox
  lxc
  shellinabox
  pwgen

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
md5sum = c722ba58b06d3105f64fdeccbbd689bb
output = ${buildout:directory}/template.cfg
mode = 0644

[template-lxc]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-lxc.cfg
md5sum = 056912602caa71a2af9fcae97ee6dfb9
output = ${buildout:directory}/template-lxc.cfg
mode = 0644

[lxc-conf-in]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/${:filename}
filename = lxc.conf.in
md5sum = b25334fc369e4e0f608bc64f14b0315d
download-only = true
mode = 0644

[slapos-toolbox]
recipe = zc.recipe.egg
scripts = slapcontainer
eggs =
  slapos.toolbox

[versions]
slapos.core = 0.26.3-slapcontainer
slapos.cookbook = 0.60-slapcontainer
slapos.toolbox = 0.26.2-slapcontainer
