{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "extends": "./schema-definitions.json#",
  "description": "Parameters to instantiate neo",
  "additionalProperties": false,
  "required": ["cluster"],
  "properties": {
    "cluster": {
      "description": "Cluster unique identifier. Your last line of defense against mixing up neo clusters and corrupting your data. Choose a unique value for each of your cluster.",
      "type": "string"
    },
    "partitions": {
      "description": "Number of partitions. You cannot change this value once you created a cluster.",
      "default": 12,
      "type": "integer"
    },
    "replicas": {
      "description": "Number of replicates.",
      "default": 0,
      "type": "integer"
    },
    "sla-dict": {
      "description": "Where to request instances. Each key is a query string for criterions (e.g. \"computer_guid=foo\"), and each value is a list of partition references.",
      "patternProperties": {
        ".": {
          "type": "array",
          "items": { "type": "string" },
          "uniqueItems": true
        }
      },
      "type": "object"
    },
    "node-list": {
      "description": "List of dictionaries containing parameters for each node.",
      "default": [],
      "items": {
        "description": "Dictionary containing parameters required to configure individual nodes.",
        "default": {},
        "patternProperties": {
          ".*": {
            "additionalProperties": false,
            "properties": {
              "storage-count": {
                "description": "Number of storage nodes to deploy. One master and one admin node is deployed with each storage.",
                "default": 1,
                "type": "integer"
              },
              "mysql": {
                "description": "Dictionary containing parameters for MySQL.",
                "default": {},
                "patternProperties": {
                  ".*": {
                    "description": "To configure important parameters like innodb_buffer_pool_size, innodb-log-buffer-size, etc.",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "engine": {
                "description": "Configures storage engine, currently only InnoDB and TokuDB are supported.",
                "default": "innodb",
                "type": "string"
              }
            }
          }
        }
      },
      "type": "array"
    }
  },
  "type": "object"
}
