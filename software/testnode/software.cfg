[buildout]
versions = versions
extensions = slapos.rebootstrap
rebootstrap-section = python2.6
extends =
  ../../component/python-2.6/buildout.cfg
  ../../component/subversion/buildout.cfg
  ../../component/lxml-python/buildout.cfg
  ../../component/git/buildout.cfg
  ../../component/zip/buildout.cfg

parts =
  bootstrap
  eggs
  subversion
  git
  zip
  template

find-links +=
  http://www.nexedi.org/static/packages/source/slapos.buildout/
  http://www.nexedi.org/static/packages/source/

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
md5sum = 74e8bba5b666f7154b0d5ecdfee9dcf6
output = ${buildout:directory}/template.cfg
mode = 0644

[bootstrap]
recipe = zc.recipe.egg
eggs = zc.buildout
suffix =
scripts =
    buildout=bootstrap2.6
arguments = sys.argv[1:] + ["bootstrap"]

[rebootstrap]
section = python2.6
version = 1

[eggs]
recipe = zc.recipe.egg
eggs =
  ${lxml-python:egg}
  PyXML
  slapos.recipe.testnode
  slapos.tool.grid
  slapos.tool.proxy
  buildbot
  Twisted
entry-points = buildbot=buildbot.scripts.runner:run

[versions]
zc.buildout = 1.5.3-dev-SlapOS-001
# only those buildout with Twisted are known to work
buildbot = 0.7.12
Twisted = 8.2.0
# locally fixed PyXML which supports python 2.6
PyXML = 0.8.4nxd001
