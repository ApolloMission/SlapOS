[buildout]

extends =
  ../../component/apache/buildout.cfg
  ../../component/perl/buildout.cfg
  ../../component/git/buildout.cfg
  ../../component/pwgen/buildout.cfg
  ../../stack/slapos.cfg

parts =
  apache
  perl
  git
  gitweb
  slapos-cookbook
  template
  template-gitrepo
  collective-recipe-cmd

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
md5sum = 5917cf0a9d6cc5d6d184e89ca2d72a91
output = ${buildout:directory}/template.cfg
mode = 0644

[template-gitrepo]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-gitrepo.cfg
md5sum = 79ebc1f23443562b3facd4945f031fcf
output = ${buildout:directory}/template-gitrepo.cfg
mode = 0644

[template-download]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true

[template-gitweb-cgi]]
<= template-download
filename = gitweb.cgi.in
md5sum = 977d23296605d6a7f33f4f83d5bd29c8

[template-gitweb-conf]
<= template-download
filename = gitweb.conf.in
md5sum = bdf4b9e616e7b8e436040304bf1ac312

[template-git-http-backend-cgi]
<= template-download
filename = git-http-backend.cgi.in
md5sum = 814393f919dd0204c913aa77e6183b9c

[template-httpd-conf]
<= template-download
filename = httpd.conf.in
md5sum = f1056dbad1281929cd49c24e62ecc88e

[collective-recipe-cmd]
recipe = zc.recipe.egg
eggs =
  collective.recipe.cmd


[version]
slapos.cookbook =
