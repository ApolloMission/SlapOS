[buildout]

extends =
  ../../component/apache/buildout.cfg
  ../../component/perl/buildout.cfg
  ../../component/git/buildout.cfg
  ../../component/pwgen/buildout.cfg
  ../../stack/slapos.cfg

parts =
  apache
  perl
  git
  gitweb
  slapos-cookbook
  template
  template-gitrepo
  collective-recipe-cmd

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
md5sum = 5917cf0a9d6cc5d6d184e89ca2d72a91
output = ${buildout:directory}/template.cfg
mode = 0644

[template-gitrepo]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-gitrepo.cfg
md5sum = 0e690b9a11010c1597efab0e3de2d224
output = ${buildout:directory}/template-gitrepo.cfg
mode = 0644

[template-download]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true

[template-gitweb-cgi]]
<= template-download
filename = gitweb.cgi.in
md5sum = 5c720202053bfba06eec6e97d8d47cd0

[template-gitweb-conf]
<= template-download
filename = gitweb.conf.in
md5sum = 5132d919f94bdb014c03e348da723978

[template-git-http-backend-cgi]
<= template-download
filename = git-http-backend.cgi.in
md5sum = 7e0562b0ce8d48bc8f6b422850dc53af

[template-httpd-conf]
<= template-download
filename = httpd.conf.in
md5sum = e5e6a6de32323248d11918934f6aad99

[collective-recipe-cmd]
recipe = zc.recipe.egg
eggs =
  collective.recipe.cmd


[version]
slapos.cookbook = 0.62
