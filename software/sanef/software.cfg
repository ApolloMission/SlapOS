[buildout]

extends =
  ../../component/mysql-tritonn-5.0/buildout.cfg
  ../../component/gzip/buildout.cfg
  ../../component/maatkit/buildout.cfg
  ../erp5/software.cfg

parts +=
  mysql-tritonn-5.0
  bt5-repository
  maatkit

[eggs]
# Just so buildout executes [bef_erp5-recipe] before [eggs], as
# - [eggs] references [bef_erp5-recipe]
# - [instance-recipe] needs [bef_erp5-recipe] to be finished
# - we cannot rely on anything else being executed before [eggs]
bef_dummy =
  ${z2loganalyser:location}

# XXX: Workaround for hack;
# slapos.core is added, as even if it is defined as dependency in bef_erp5-recipe
# it is not being fetched, maybe because of using this crazy hack.
# Note: Possibly everything from setup.py shall be done in same way.
eggs +=
  slapos.core

extra-paths +=
  ${products-erp5:location}

[template]
url = ${:_profile_base_location_}/instance.cfg
md5sum = e22bbf531d2b5f121462267cbd8d2ef8

[instance-recipe]
egg = slapos.cookbook
module = bef_erp5
