[buildout]

extends =
  ../../component/git/buildout.cfg
  ../../component/lxml-python/buildout.cfg
  ../../component/libxml2/buildout.cfg
  ../../component/libxslt/buildout.cfg
  ../../component/python-2.7/buildout.cfg
  ../../component/python-setuptools/buildout.cfg
  ../../component/zlib/buildout.cfg
  ../../stack/slapos.cfg

parts =
  slapos.cookbook-repository
  slapos.core-repository
  slapos.recipe.template-repository
  slapos.recipe.build-repository
  eggs
  template

[eggs]
recipe = zc.recipe.egg
eggs = 
  ${lxml-python:egg}
  erp5.util
  slapos.cookbook
entry-points =
  runTestSuite=erp5.util.testsuite:runTestSuite
scripts =
  runTestSuite

[erp5.util-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
repository = http://git.erp5.org/repos/erp5.git
branch = master

[slapos.cookbook-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
repository = http://git.erp5.org/repos/slapos.git
branch = slapos-testing

[slapos.core-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
repository = http://git.erp5.org/repos/slapos.core.git
branch = master

[slapos.recipe.template-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
repository = http://git.erp5.org/repos/slapos.recipe.template.git
branch = master

[slapos.recipe.build-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
repository = http://git.erp5.org/repos/slapos.recipe.build.git
branch = master

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
md5sum = 97a6ed2faa674819020cfc77ed64cbb0 
output =  ${buildout:directory}/template.cfg
mode = 640
