[buildout]

parts  = 
  boinc-server
  certificate-authority
  ca-stunnel
  logrotate
  logrotate-entry-apache
  logrotate-entry-stunnel
  cron
  cron-entry-logrotate
  cron-entry-boinc
  promise
  slapmonitor
  slapreport
  frontend-promise
  publish-connection-informations
  boinc-app

extends = ${template-boinc:output}

#Deploy a Boinc application in existing boinc server instance. do the same thing for another boinc app instance
[boinc-app]
<= boinc-server
recipe = slapos.cookbook:boinc.app
binary = ${boinc-application:location}/${boinc-application:filename}
#app-name should be unique (for all app deployed an boinc instance)
app-name = ${boinc-application:app-name}
version = ${boinc-application:version}
platform = ${boinc-application:platform}
extension = ${boinc-application:exec-extension}
dash = ${dash:location}/bin/dash
#templates
template-result = ${template_result:location}/${template_result:filename}
template-wu = ${template_wu:location}/${template_wu:filename}
#Work Unit
wu-name = ${boinc-application:wu-name}
wu-number = ${boinc-application:wu-number}
input-file = ${template_input:location}/${template_input:filename}
