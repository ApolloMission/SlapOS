# Stack for Flask microframework: http://flask.pocoo.org/
[buildout]
extends =
  ../../stack/slapos.cfg
  ../../stack/flask.cfg
  ../../component/nginx/buildout.cfg
  ../../component/dash/buildout.cfg
  ../../component/curl/buildout.cfg
  ../../component/git/buildout.cfg

parts =
  slapos-cookbook
  slapos-toolbox
  eggs
  template
  git-user
  nginx
  nginx_template_launcher
  template_nginx_conf

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg
output = ${buildout:directory}/template.cfg
md5sum = 9d60640c58337c9b40d11a9047044627
mode = 0644

[template-flask]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-flask.cfg
output = ${buildout:directory}/template-flask.cfg
md5sum = dd9a27e95cebde0e1f6e1d1c6b25722b
mode = 0644

[template_nginx_conf]
recipe = slapos.recipe.download
url = ${:_profile_base_location_}/nginx_conf.in
md5sum = 53dbaa3b816a22f58ee609379cd6147e
filename = nginx_conf.in
location = ${buildout:parts-directory}/${:_buildout_section_name_}
mode = 0644

[nginx_template_launcher]
recipe = slapos.recipe.download
url = ${:_profile_base_location_}/launcher-nginx.in
md5sum = 0ca1502bddf082220e574ef867d7176b
filename = launcher-nginx.in
mode = 0644
location = ${buildout:parts-directory}/${:_buildout_section_name_}

[git-user]
recipe = slapos.recipe.build:gitclone
repository = http://github.com/Sebatyne/FlaskMinimum.git
branch = master
git-executable = ${git:location}/bin/git 
location = ${buildout:parts-directory}/${:_buildout_section_name_}

[slapos-toolbox]
recipe = zc.recipe.egg
eggs = slapos.toolbox
scripts = killpidfromfile

[eggs]
recipe = zc.recipe.egg
eggs =
  slapos.cookbook
  hexagonit.recipe.download
  Gunicorn
  
[versions]
gunicorn = 18.0
Flask = 0.10
