[buildout]
parts =
  copy-scripts
  occi

eggs-directory = ${buildout:eggs-directory}
develop-eggs-directory = ${buildout:develop-eggs-directory}
offline = true

#[url]
#recipe = slapos.cookbook:publishurl
#url = 

[occi]
recipe = slapos.cookbook:occi

# Options
userid = $${slap-parameter:userid}
password = $${slap-parameter:password}
domain = $${slap-parameter:domain}
os-config = $${pocdirectory:poc}/os-config.xml

# Paths
manifest = ${occi-manifest:location}/${occi-manifest:filename}
manifest-destination = $${pocdirectory:poc}/manifest.xml

# Binary information
accords = ${accords:location}/bin/parser
parser = ${accords:location}/bin/parser
broker = ${accords:location}/bin/broker

[rootdirectory]
recipe = slapos.cookbook:mkdirectory
etc = $${buildout:directory}/etc/
var = $${buildout:directory}/var/
srv = $${buildout:directory}/srv/
bin = $${buildout:directory}/bin/

[basedirectory]
recipe = slapos.cookbook:mkdirectory
log = $${rootdirectory:var}/log/
services = $${rootdirectory:etc}/run/
run = $${rootdirectory:var}/run/
backup = $${rootdirectory:srv}/backup/

[pocdirectory]
recipe = slapos.cookbook:mkdirectory
poc = $${rootdirectory:poc}/poc
rest = $${rootdirectory:poc}/poc/rest
service = $${rootdirectory:poc}/poc/service
security = $${rootdirectory:poc}/poc/security

[copy-scripts]
recipe = slapos.cookbook:symbolic.link
target-directory = $${pocdirectory:poc}
file-list = 
  ${accords-source:location}/scripts/accords
  ${accords-source:location}/scripts/accords-config
  ${accords-source:location}/scripts/co-broker
  ${accords-source:location}/scripts/co-command
  ${accords-source:location}/scripts/co-parser
  ${accords-source:location}/scripts/cords_user.xml
  ${accords-source:location}/scripts/co-resolver
  ${accords-source:location}/scripts/co-start
  ${accords-source:location}/scripts/co-status
  ${accords-source:location}/scripts/co-stop
  ${accords-source:location}/scripts/run-azprocci
  ${accords-source:location}/scripts/run-broker
  ${accords-source:location}/scripts/run-coees 
  ${accords-source:location}/scripts/run-coes
  ${accords-source:location}/scripts/run-coips 
  ${accords-source:location}/scripts/run-comons
  ${accords-source:location}/scripts/run-conets
  ${accords-source:location}/scripts/run-coobas
  ${accords-source:location}/scripts/run-cosacs
  ${accords-source:location}/scripts/run-coss
  ${accords-source:location}/scripts/run-ezvm 
  ${accords-source:location}/scripts/run-fileserver
  ${accords-source:location}/scripts/run-onprocci 
  ${accords-source:location}/scripts/run-osprocci 
  ${accords-source:location}/scripts/run-parser 
  ${accords-source:location}/scripts/run-procci 
  ${accords-source:location}/scripts/run-publisher
