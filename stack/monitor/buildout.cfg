[buildout]

extends =
  ../../component/apache/buildout.cfg
  ../../component/dcron/buildout.cfg
  ../../component/openssl/buildout.cfg
  ../../component/nginx/buildout.cfg

parts +=
  backup-script-template
  collective.recipe.template-egg
  dcron
  eggs
  extra-eggs
  make-rss
  monitor-bin
  monitor-template
  nginx
  rss-bin
  slapos-cookbook
  template-nginx-conf

[collective.recipe.template-egg]
recipe = zc.recipe.egg
eggs = collective.recipe.template
  PyRSS2Gen
  
[extra-eggs]
recipe = zc.recipe.egg
interpreter = pythonforrssgen
eggs =
  PyRSS2Gen
  
[make-rss-script]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/make-rss.sh.in
#md5sum = 
output = ${buildout:directory}/make-rss.sh.in
mode = 0644

[monitor-template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/monitor.cfg.in
output = ${buildout:directory}/monitor.cfg
#md5sum = 6564a2e7c7d9e631b997ff2960ad3299
mode = 0644

[monitor-bin]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true
#md5sum = 
filename = monitor.py.in
mode = 0644

[monitor-cgi]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true
#md5sum = 
filename = monitor.cgi.in
mode = 0644

[control-cgi]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true
#md5sum = 
filename = control.cgi.in
mode = 0644

[rss-bin]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true
#md5sum = 
filename = status2rss.py
mode = 0644

[dcron-service]
recipe = slapos.recipe.template
url = ${template-dcron-service:output}
output = $${directory:services}/crond
mode = 0700
logfile = $${directory:log}/crond.log

[eggs]
recipe = z3c.recipe.scripts
eggs =
  slapos.cookbook
  PyRSS2Gen

[versions]
PyRSS2Gen = 1.1
