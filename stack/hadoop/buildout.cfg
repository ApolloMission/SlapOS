[buildout]

extends = 
  ../../stack/slapos.cfg
  ../../component/java/buildout.cfg

parts =
  slapos-cookbook
  eggs
  java
  hadoop
  hadoop-streaming
  instance-stack


[eggs]
recipe = zc.recipe.egg
eggs = 
  slapos.cookbook
  collective.recipe.template
  cp.recipe.cmd
  plone.recipe.command


[hadoop]
recipe = hexagonit.recipe.download
filename = hadoop-2.2.0.tar.gz
url = http://apache.mirrors.spacedump.net/hadoop/common/stable/${:filename}
md5sum = 25f27eb0b5617e47c032319c0bfd9962
download-only = true
mode = 0644
strip-top-level-dir = true


[hadoop-streaming]
recipe = hexagonit.recipe.download
url = http://repo1.maven.org/maven2/org/apache/hadoop/hadoop-streaming/0.20.203.0/hadoop-streaming-0.20.203.0.jar
download-only = true
#md5sum = 
mode = 0644


[instance-stack]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-stack.cfg.in
output = ${buildout:directory}/instance-stack.cfg
# md5sum = 
mode = 0644


