[buildout]
extends =
  ../ncurses/buildout.cfg
  ../libiconv/buildout.cfg
  ../libxml2/buildout.cfg
  ../zlib/buildout.cfg
parts = gettext

[gettext]
recipe = slapos.recipe.cmmi
dependencies = libiconv zlib ncurses libxml2
url = http://ftp.gnu.org/pub/gnu/gettext/gettext-0.18.1.1.tar.gz
md5sum = 3dd55b952826d2b32f51308f2f91aa89
configure-options =
  --disable-static
  --disable-java
  --disable-csharp
  --with-included-gettext
  --without-emacs
  --disable-acl
  --disable-openmp
  --without-git
patches = ${:_profile_base_location_}/drop.gets.patch

[x86-cygwin-gettext]
# Refer to http://savannah.gnu.org/bugs/?36443 for CFLAGS/CXXFLAGS -O2
configure-options =
  ${gettext:configure-options}
  CFLAGS="$CFLAGS -O2"
  CXXFLAGS="$CXXFLAGS -O2"
patches =
  ${:_profile_base_location_}/cygwin-gettext-0.18.1.1-src.patch

