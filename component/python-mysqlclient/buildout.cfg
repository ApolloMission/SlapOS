[buildout]
extends =
  ../mariadb/buildout.cfg
  ../openssl/buildout.cfg
  ../patch/buildout.cfg
  ../zlib/buildout.cfg

parts =
  python-mysqlclient

[python-mysqlclient-env]
PATH =${mariadb:location}/bin:%(PATH)s

[python-mysqlclient]
recipe = zc.recipe.egg:custom
egg = mysqlclient
patches =
  https://github.com/PyMySQL/mysqlclient-python/commit/1693848c9f6ca863868d94d63499830f7f4f3a1f.diff#a493a91f9263243eb331fcab9901b8b0
  ${:_profile_base_location_}/mysqlclient-1.3.10-mariadb-10.2.7.patch#b8a265dcb62a26bc87a79497756c415a
patch-options = -p1
patch-binary = ${patch:location}/bin/patch
environment = python-mysqlclient-env
library-dirs =
  ${zlib:location}/lib/
  ${openssl:location}/lib/
rpath =
  ${mariadb:location}/lib/
  ${zlib:location}/lib/
  ${openssl:location}/lib/
