[buildout]
parts = memcached
extends = ../libevent/buildout.cfg

[memcached-fix-array-subscript-is-above-array-bounds]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
filename = memcached-1.4-fix-array-subscript-is-above-array-bounds.patch
download-only = true
md5sum = 472508b9a4b6c0b9f5d6f2abce3444e3

[memcached]
recipe = hexagonit.recipe.cmmi
url = http://memcached.googlecode.com/files/memcached-1.4.8.tar.gz
md5sum = b7104e269511621c2777367d6d6315fe
patches =
  ${memcached-fix-array-subscript-is-above-array-bounds:location}/${memcached-fix-array-subscript-is-above-array-bounds:filename}
patch-options = -p1
configure-options =
  --with-libevent=${libevent:location}
  --disable-docs
environment =
    LDFLAGS =-Wl,-rpath=${libevent:location}/lib
