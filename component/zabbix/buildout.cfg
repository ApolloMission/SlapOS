[buildout]

parts =
  zabbix-agent

extends =
  ../curl/buildout.cfg
  ../mariadb/buildout.cfg
  ../pkgconfig/buildout.cfg

[zabbix-agent]
recipe = slapos.recipe.cmmi
url = http://downloads.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/2.0.10/zabbix-2.0.10.tar.gz
md5sum = 49297c0ac61858fd75ab9ea18ca6cdbb
configure-options =
  --enable-agent
  --enable-ipv6

[zabbix-server]
recipe = slapos.recipe.cmmi
version = 2.0.10
url = http://downloads.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/2.0.10/zabbix-2.0.10.tar.gz
md5sum = 49297c0ac61858fd75ab9ea18ca6cdbb
keep-compile-dir = true
configure-options =
  --enable-server
  --enable-ipv6
  --with-libcurl=${curl:location}/bin/curl-config
  --with-mysql=${mariadb:location}/bin/mysql_config
environment =
  PATH=${curl:location}/bin:${pkgconfig:location}/bin:%(PATH)s
  LDFLAGS=-L${mariadb:location}/lib -Wl,-rpath=${mariadb:location}/lib
  CPPFLAGS=-I${mariadb:location}/include -I${curl:location}/include