[buildout]
extends =
  ../component/dcron/buildout.cfg
  ../component/logrotate/buildout.cfg
  ../component/rdiff-backup/buildout.cfg
  ../component/nodejs.cfg

parts =
  nodejs-0.4
  npm
  cloud9

[cloud9]
# Online IDE written in javascript/node.js
# URL : c9.io
# You can use it using the following command :
# NODE_PATH=${:destination}/node_modules ${nodejs:node_location} ${:cloud9_js_location} 
recipe = plone.recipe.command
destination = ${buildout:parts-directory}/${:_buildout_section_name_}
location = ${buildout:parts-directory}/${:_buildout_section_name_}
command =
  ${npm:install_module_snippet} cloud9
  # Fix 0.5.1 bug
  ln -s node_modules/cloud9/bin/cloud9.js node_modules/cloud9/server/cloud9/.
cloud9_js_location = ${:destination}/node_modules/cloud9/server/cloud9/cloud9.js
