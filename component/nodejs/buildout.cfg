[buildout]
extends =
  ../git/buildout.cfg
  ../pkgconfig/buildout.cfg
  ../openssl/buildout.cfg
  ../python-2.7/buildout.cfg
  ../zlib/buildout.cfg

parts =
  nodejs

[nodejs]
# Server-side Javascript.
<= nodejs-0.6

[nodejs-0.4]
recipe = hexagonit.recipe.cmmi
url = http://nodejs.org/dist/node-v0.4.12.tar.gz
md5sum = a6375eaa43db5356bf443e25b828ae16
configure-options =
  --openssl-includes=${openssl:location}/include
  --openssl-libpath=${openssl:location}/lib
make-options = -j1
environment =
  PATH=${pkgconfig:location}/bin:${python2.7:location}/bin:%(PATH)s
  PKG_CONFIG_PATH=${openssl:location}/lib/pkgconfig/
  CPPFLAGS=-I${zlib:location}/include
  LDFLAGS=-Wl,-rpath=${openssl:location}/lib -L${zlib:location}/lib -Wl,-rpath=${zlib:location}/lib

[nodejs-0.6]
recipe = hexagonit.recipe.cmmi
url = http://nodejs.org/dist/v0.6.10/node-v0.6.10.tar.gz
md5sum = 8a74fd5d48c2c7c64abc60b2b8f3fbc7
configure-options =
  --openssl-includes=${openssl:location}/include
  --openssl-libpath=${openssl:location}/lib
make-options = -j1
environment =
  PATH=${pkgconfig:location}/bin:${python2.7:location}/bin:%(PATH)s
  PKG_CONFIG_PATH=${openssl:location}/lib/pkgconfig/
  CPPFLAGS=-I${zlib:location}/include
  LDFLAGS=-Wl,-rpath=${openssl:location}/lib -L${zlib:location}/lib -Wl,-rpath=${zlib:location}/lib
