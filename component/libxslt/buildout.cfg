[buildout]
extends =
  ../libxml2/buildout.cfg
  ../pkgconfig/buildout.cfg
  ../zlib/buildout.cfg

parts =
  libxslt

[libxslt]
recipe = slapos.recipe.cmmi
dependencies = zlib libxml2 pkgconfig
url = ftp://xmlsoft.org/libxslt/libxslt-1.1.26.tar.gz
md5sum = e61d0364a30146aaa3001296f853b2b9
configure-options =
  --disable-static
  --without-crypto
  --without-python
  --without-debug
  --without-debugger

[x86-linux-libxslt]
configure-options = 
  ${libxslt:configure-options}
  --with-libxml-prefix=${libxml2:location}
environment =
  PATH=${pkgconfig:location}/bin:%(PATH)s
  CPPFLAGS=-I${zlib:location}/include
  LDFLAGS=-Wl,-rpath=${zlib:location}/lib
  PKG_CONFIG_PATH=${libxml2:location}/lib/pkgconfig:${zlib:location}/lib/pkgconfig
