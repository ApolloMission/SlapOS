[buildout]
parts =
  cups

extends =
  ../perl/buildout.cfg
  ../zlib/buildout.cfg

# for now we build and install library and header files only.
[cups]
recipe = slapos.recipe.cmmi
url = http://www.cups.org/software/1.7.1/cups-1.7.1-source.tar.bz2
md5sum = 55277c40fd4b7183dc3671d39c5c42b7
configure-options =
  --disable-static
  --disable-dbus
  --disable-gssapi
  --disable-ssl
  --disable-pam
  --disable-avahi
  --disable-dnssd
  --disable-launchd
  --disable-browsing
  --disable-default-shared
  --disable-raw-printing
  --disable-webif
make-options =
  libs
make-targets =
  install-headers
  install-libs
environment =
  PATH=${perl:location}/bin:%(PATH)s
  CPPFLAGS=-I${zlib:location}/include
  DSOFLAGS=-L${zlib:location}/lib -Wl,-rpath=${zlib:location}/lib
