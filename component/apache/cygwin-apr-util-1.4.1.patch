diff --git a/apr-util-1.4.1/Makefile.in b/apr-util-1.4.1/Makefile.in
index 963fead..c9827de 100644
--- a/apr-util-1.4.1/Makefile.in
+++ b/apr-util-1.4.1/Makefile.in
@@ -23,7 +23,7 @@ INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 
 APU_MODULES = @APU_MODULES@
-LINK_MODULE = $(LIBTOOL) $(LTFLAGS) --mode=link $(CC) $(LT_LDFLAGS) $(ALL_CFLAGS) $(ALL_LDFLAGS) $(APRUTIL_LDFLAGS) -release $(APRUTIL_MAJOR_VERSION) -module -rpath $(APU_DSO_LIBDIR)
+LINK_MODULE = $(LIBTOOL) $(LTFLAGS) --mode=link $(CC) $(LT_LDFLAGS) $(ALL_CFLAGS) $(ALL_LDFLAGS) $(APRUTIL_LDFLAGS) -release $(APRUTIL_MAJOR_VERSION) -module -no-undefined -rpath $(APU_DSO_LIBDIR) @abs_builddir@/lib@APRUTIL_LIBNAME@.la $(APRUTIL_LIBS)
 APU_DSO_LIBDIR = @APU_DSO_LIBDIR@
 
 LT_VERSION = @APU_LTVERSION@
diff --git a/apr-util-1.4.1/dbd/apr_dbd.c b/apr-util-1.4.1/dbd/apr_dbd.c
index 49553f2..664b441 100644
--- a/apr-util-1.4.1/dbd/apr_dbd.c
+++ b/apr-util-1.4.1/dbd/apr_dbd.c
@@ -184,7 +184,7 @@ APU_DECLARE(apr_status_t) apr_dbd_get_driver(apr_pool_t *pool, const char *name,
 
 #if defined(NETWARE)
     apr_snprintf(modname, sizeof(modname), "dbd%s.nlm", name);
-#elif defined(WIN32)
+#elif defined(WIN32) || defined(CYGWIN)
     apr_snprintf(modname, sizeof(modname),
                  "apr_dbd_%s-" APU_STRINGIFY(APU_MAJOR_VERSION) ".dll", name);
 #else
diff --git a/apr-util-1.4.1/dbm/apr_dbm.c b/apr-util-1.4.1/dbm/apr_dbm.c
index 5c506fc..a5beead 100644
--- a/apr-util-1.4.1/dbm/apr_dbm.c
+++ b/apr-util-1.4.1/dbm/apr_dbm.c
@@ -162,7 +162,7 @@ static apr_status_t dbm_open_type(apr_dbm_type_t const* * vtable,
 
 #if defined(NETWARE)
     apr_snprintf(modname, sizeof(modname), "dbm%s.nlm", type);
-#elif defined(WIN32)
+#elif defined(WIN32) || defined(CYGWIN)
     apr_snprintf(modname, sizeof(modname),
                  "apr_dbm_%s-" APU_STRINGIFY(APU_MAJOR_VERSION) ".dll", type);
 #else
diff --git a/apr-util-1.4.1/ldap/apr_ldap_stub.c b/apr-util-1.4.1/ldap/apr_ldap_stub.c
index 97c1551..9df76b7 100644
--- a/apr-util-1.4.1/ldap/apr_ldap_stub.c
+++ b/apr-util-1.4.1/ldap/apr_ldap_stub.c
@@ -45,7 +45,7 @@ static apr_status_t load_ldap(apr_pool_t *pool)
         return rv;
     }
 
-#if defined(WIN32)
+#if defined(WIN32) || defined(CYGWIN)
     modname = "apr_ldap-" APU_STRINGIFY(APU_MAJOR_VERSION) ".dll";
 #else
     modname = "apr_ldap-" APU_STRINGIFY(APU_MAJOR_VERSION) ".so";
