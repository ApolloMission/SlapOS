[buildout]
extends =
  ../r-language/buildout.cfg

# rpy2 needs R in $PATH
# to use rpy2 you need a wrapper that sets ${r-language:location}/bin in PATH
# see ../manpy/buildout.cfg as an example

[rpy2_env]
PATH = ${r-language:location}/bin/:%(PATH)s
CFLAGS = -I${readline:location}/include
LDFLAGS = -L${readline:location}/lib -Wl,-rpath=${readline:location}/lib -L${r-language:location}/lib/R/lib -Wl,-rpath=${r-language:location}/lib/R/lib

[rpy2]
recipe = zc.recipe.egg:custom
environment = rpy2_env
egg = rpy2
initialization =
  # rpy2 needs R in $PATH
  import os
  os.environ['PATH'] = '${r-language:location}/bin' + os.pathsep + os.environ.get('PATH', '')
