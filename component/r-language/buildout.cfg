[buildout]
extends =
  ../readline/buildout.cfg
  ../gcc/buildout.cfg

parts =
  gcc-fortran
  r-language

[r-language]
recipe = slapos.recipe.cmmi
url = http://cran.rstudio.com/src/base/R-3/R-3.1.0.tar.gz
md5sum = a1ee52446bee81820409661e6d114ab1
configure-options =
  --with-readline=yes
  --with-x=no
  --enable-R-shlib
environment =
  CC=${gcc-fortran:location}/bin/gcc
  F77=${gcc-fortran:location}/bin/gfortran
  CFLAGS=-I${readline:location}/include -I${ncurses:location}/include
  LDFLAGS=-L${gcc-fortran:location}/lib64 -Wl,-rpath=${gcc-fortran:location}/lib64 -L${readline:location}/lib -Wl,-rpath=${readline:location}/lib -L${ncurses:location}/lib/ -Wl,-rpath=${ncurses:location}/lib/
