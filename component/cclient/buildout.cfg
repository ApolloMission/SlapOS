# libc-client - UW IMAP server
# ftp://ftp.cac.washington.edu/imap/

[buildout]
extends =
  ../openssl/buildout.cfg

parts =
  cclient

[cclient]
recipe = slapos.recipe.cmmi
dependencies = openssl
url = ftp://ftp.cac.washington.edu/imap/imap-2007f.tar.gz
md5sum = 2126fd125ea26b73b20f01fcd5940369
configure-command = true
patch-options = -p1
patches =
  ${:_profile_base_location_}/imap-2007f.patch#42c77fdd5d7a976fc302b93aadb3da98
make-options = 
  SSLCRYPTO=-lcrypto
  IP=6
  EXTRACFLAGS=-fPIC
  CCLIENT=%(prefix)s
  -j1


[x86-cygwin-cclient]
# cclient does not support parallel compilation
make-options = 
  cyg
  SSLTYPE=none
  ${cclient:make-options}

[x86-linux-cclient]
# cclient does not support parallel compilation
make-options = 
  slx
  SSLTYPE=unix
  SSLDIR=${openssl:prefix}
  SSLLIB=${openssl:prefix}/lib
  ${cclient:make-options}
  